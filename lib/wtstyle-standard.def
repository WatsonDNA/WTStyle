%
% wtstyle-standard.def
%

% Packages and settings
\RequirePackage{tcolorbox}
\tcbuselibrary{skins, breakable}
\newtcolorbox{wtst@mathbox}{
  enhanced jigsaw, breakable, sharp corners, colback=white,
  before={\par\pagebreak[0]\parindent=0pt\vspace{7pt}}, after={},
  left=2mm, right=2mm}

% Symbols
\chardef\wtst@bparen`( \chardef\wtst@eparen`)

% Heading
\def\@makeschapterhead#1{%
  \hbox{}\normalsize
  \vskip\baselineskip
  \hrule\@height.6\p@\@depth.6\p@\vskip2\p@\hrule\@height.3\p@\@depth.3\p@
  \vskip.5\baselineskip
  \begingroup\centering
    \reset@font\LARGE\bfseries#1%
  \par\endgroup
  \ifdim\prevdepth>-\@m\p@\vskip-\prevdepth\fi
  \vskip.5\baselineskip
  \hrule\@height.3\p@\@depth.3\p@\vskip2\p@\hrule\@height.6\p@\@depth.6\p@
  \vskip\baselineskip}
\def\@makechapterhead#1{%
  \hbox{}\normalsize
  \vskip\baselineskip
  \hrule\@height.6\p@\@depth.6\p@\vskip2\p@\hrule\@height.3\p@\@depth.3\p@
  \vskip.5\baselineskip
  \begingroup\centering\bfseries
    \@chapapp
    {\mdseries\sffamily\Large\thechapter}%
    \@chappos\\
    \LARGE#1%
  \par\endgroup
  \ifdim\prevdepth>-\@m\p@\vskip-\prevdepth\fi
  \vskip.5\baselineskip
  \hrule\@height.3\p@\@depth.3\p@\vskip2\p@\hrule\@height.6\p@\@depth.6\p@
  \vskip\baselineskip}

% Names of theorem environments
\def\definitionname{定義}
\def\theoremname{定理}
\def\lemmaname{補題}
\def\examplename{例}
\def\proofname{証明}

% Theorem environments
\if@wtst@chapter@exist@
  \newtheorem{wtst@definition}{\definitionname}[chapter]
  \newtheorem{wtst@theorem}{\theoremname}[chapter]
  \newtheorem{wtst@lemma}[wtst@theorem]{\lemmaname}
  \newcounter{wtst@example}[chapter]
  \renewcommand{\thewtst@example}{\thechapter.\arabic{wtst@example}}
\else
  \newtheorem{wtst@definition}{\definitionname}[section]
  \newtheorem{wtst@theorem}{\theoremname}[section]
  \newtheorem{wtst@lemma}[wtst@theorem]{\lemmaname}
  \newcounter{wtst@example}[section]
  \renewcommand{\thewtst@example}{\thesection.\arabic{wtst@example}}
\fi

\newenvironment{definition}
  {\begin{wtst@mathbox}
    \wtst@if@option@exists
      {\wtst@environment@with@option{definition}}
      {\wtst@environment@without@option{definition}}}
  {\end{wtst@definition}\end{wtst@mathbox}}
\newenvironment{theorem}
  {\begin{wtst@mathbox}
    \wtst@if@option@exists
      {\wtst@environment@with@option{theorem}}
      {\wtst@environment@without@option{theorem}}}
  {\end{wtst@theorem}\end{wtst@mathbox}}
\newenvironment{lemma}
  {\begin{wtst@mathbox}
    \wtst@if@option@exists
      {\wtst@environment@with@option{lemma}}
      {\wtst@environment@without@option{lemma}}}
  {\end{wtst@lemma}\end{wtst@mathbox}}
\newenvironment{example}
  {\par\normalfont\topsep6\p@\@plus6\p@\labelsep=1zw
    \refstepcounter{wtst@example}\trivlist
    \item[\hskip\labelsep{\headfont\examplename\thewtst@example}]\ignorespaces}
  {\endtrivlist}
\newenvironment{proof}
  {\normalfont\topsep6\p@\@plus6\p@\labelsep=1zw
    \trivlist\item[\hskip\labelsep{\headfont\proofname}]\ignorespaces}
  {\endtrivlist}

% Set document styles
\setdocstyle{
  footnote mark = \arabic{footnote}\wtst@eparen,
  emph style = \gtfamily\sffamily}

% EOF
\endinput
